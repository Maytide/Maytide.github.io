<!DOCTYPE html>
<html>
    <h3 class=header-text>No Playlist</h3>
    
    <p>I find it annoying how, when clicking on a Youtube video in a playlist, there is no way to load the video without loading it inside the playlist. I use the playlist feature more as a reference list than an actual playlist; most of the time, I just want to rewatch that single video I have saved. So I decided to make a chrome extension to solve that issue. It turned out to be very easy.</p>
    
    <p>When clicking on a video link in a playlist, Youtube appends a playlist link to the end of the URL:</p>
    
    <a><img src="/blog/no-playlist/link.png"></a>
    
    <p>Basically, if you can remove the end portion of that URL, you remove the reference to the list. I made this the main objective for the chrome extension I would be making. Let's get back to that later, though.</p>
    
    <p>To get started with making a chrome extension you have to create some preamble, which includes a manifest.json file in an empty folder. (The code sample will look ugly, as I haven't got it to handle tabs/new lines).</p>
    
    <p class="code">{
      "name": "No Playlist",<br>
      "version": "1.0",<br>
      "description": "No Playlist",<br>
      "permissions": [<br>
        "https://www.youtube.com/playlist*",<br>
      ],<br>
      "browser_action": {"default_icon": "np-128.png"},<br>
      "content_scripts": [<br>
        {<br>
          "matches": ["https://www.youtube.com/playlist*"],<br>
          "js": ["background.js"],<br>
          "run_at": "document_end"<br>
        }<br>
      ],<br>
      "manifest_version": 2
    }</p>
    
    <p>We see that the permission is set to any URL in the domain youtube.com/playlist*. However, the main thing we care about in here is the reference to "background.js" in the same folder, which is a javascript file that will handle the logic of the extension.</p>
    
    <p class="code">
    var links2 = document.getElementsByTagName('a');<br>
    <br>
    for(var i = 0; i< links2.length; i++){<br>
        &emsp;if (links2[i].href.indexOf("&list") > -1){<br>
            &emsp;&emsp;links2[i].setAttribute('href', links2[i].href.substring(0, links2[i].href.indexOf("&list")));<br>
            &emsp;&emsp;//console.log(links2[i].href);<br>
        &emsp;}<br>
    }
    </p>
    
    <p>As I mentioned earlier, what I did here was have the extension remove the "&amp;list*" portion of the URL. I loop through all the hyperlinks in the youtube page, and if they contain a youtube video with a playlist link, it removes the playlist link with the help of a substring method. If you uncomment console.log(links2[i].href);, you can see this in action in chrome's developer console. </p>
    
    <p>This definitely isn't an efficient or user-friendly method, but as a hack it works well enough. All in all, this was pretty straightforward; it took me much longer than it should have to make this, probably.</p>
    
</html>